{% extends "../base.html" %}

{% block titulo %}Listado de Usuarios{% endblock %}

{% block contenido %}
<div class="col"><h1>Listado de Usuarios</h1></div>
<div class="col">
    <div class="table-responsive" id="main_table">
        <table id="lista_users" class="table table-striped table-bordered" width="100%" >
            <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Correo</th>
                    <th>Nick</th>
                    <th>Ubicacion</th>
                    <th>Fecha Unión</th>
                </tr>
            </thead>
            <tbody>
                {% for u in usuarios %}
                <tr>
                    <td class="dt-center"> 
                        <a href="/user/{{u.id}}">{{u.name}}  </a>                          
                    </td>
                    <td> {{u.email}}</td>
                    <td> {{u.nick}}</td>
                    <td>{{u.ubicacion}}</td>
                    <td> {{u.created_at}}</td> 
                </tr>      
                {% endfor %}
            </tbody>    
        </table>
    </div>
</div>

<div class="row">
    <div class="col">
        <h2>Registro</h2>
        {% load static %}
        <img src="data:image/png;base64,{{ image_base64_dia }}" alt="Gráfico usuarios por día" >
    </div>
    <div class="col">
        <img src="data:image/png;base64,{{ image_base64_mes }}" alt="Gráfico usuarios por mes"  class="grafico">
    </div>
    
</div>
<script>
$(document).ready(function() {
    

    var oTblReport = $('#lista_users')

    oTblReport.DataTable({
        "language": { 
            "search": 'Buscar',
            "lengthMenu": "Mostrar _MENU_ registros por página",
            //"info": "Mostrando _ENTRIES_ página _PAGE_ de _PAGES_",
            "paginate":{
                previous: '‹',
                next:     '›'
            }
        },
        "aLengthMenu":[[5,10,20,40,-1],[5,10,20,40,"Todos"]],
        "iDisplayLength":20
    });
});
</script>


{% endblock %}

{% block libreria %}
{% endblock %}